<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table Viewer</title>
    <style>
        body { font-family: Arial, sans-serif; }
        #table-list { margin-top: 20px; list-style-type: none; padding: 0; }
        .table-item { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            padding: 10px; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
            margin-bottom: 5px;
        }
        #message-container { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>

    <h2>Available Tables</h2>
    <div id="message-container"></div>  <!-- Displays backend message -->
    <ul id="table-list"></ul>  <!-- List of tables will be populated here -->

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            fetch("/get-tables")  // Call the API
                .then(response => response.json())
                .then(responseData => {
                    // Display message from backend
                    document.getElementById("message-container").innerText = responseData.message;

                    // Get tables from response and display them
                    const tableList = document.getElementById("table-list");
                    tableList.innerHTML = "";  // Clear previous entries

                    responseData.data.forEach(table => {
                        let listItem = document.createElement("li");
                        listItem.className = "table-item";
                        listItem.innerHTML = `<span>${table}</span>`;
                        tableList.appendChild(listItem);
                    });
                })
                .catch(error => console.error("Error fetching tables:", error));
        });
    </script>

</body>
</html>
